workspace "imagine"
  language "c++"
  architecture "x64"
  configurations {"debug", "release"}
  
  location "work"
  targetdir "%{prj.location}/bin"
  objdir    "%{prj.location}/obj/%{prj.name}/%{cfg.buildcfg}"
  includedirs {
      ".",
      "third_party"}
      
  flags "c++14"
  filter "configurations:debug"
    targetsuffix "-d"
  filter "configurations:release"
    optimize "speed"
    
  filter "action:vs*" defines "_CRT_SECURE_NO_WARNINGS"
  
  -- Imagine library
  project "imagine"
    kind "sharedlib"
    defines "ig_build"
    
    files {
      "imagine/**.h",
      "imagine/**.cpp",
      "third_party/**.h",
      "third_party/**.c"}
      
    filter "system:windows" excludes {"imagine/**_posix.cpp"}
    filter "system:linux"   excludes {"imagine/**_win32.cpp"} links {"dl", "pthread"}
    
  -- Imagine examples, demonstrations
  project "hello_imagine"
    kind "consoleapp"
    files {
      "examples/hello_imagine/**.cpp",
      "examples/hello_imagine/**.h"}
    links {"imagine"}
    
